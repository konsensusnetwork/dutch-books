---
// Loop over chapterEntries, take the slug, split it using the / as separator, and then use the first part as the book and the second part as the chapter

import { getCollection } from 'astro:content';

export async function getStaticPaths() {
    const chapterEntries = await getCollection('chapters');
    
    return chapterEntries.map((entry) => {
        const [book, chapter] = entry.slug.split('/');
        return { params: { book, chapter } };
    });
}

const { book, chapter } = Astro.params;
---
Hi, I'm the {book} book, chapter {chapter}!